(function(){"use strict";var e={679:function(e,t,i){var n=i(963),a=i(252);function r(e,t,i,n,r,o){const s=(0,a.up)("MainTemplateComponent");return(0,a.wg)(),(0,a.j4)(s)}var o=i(577);const s={key:1},h=(0,a._)("h3",null,"We were not able to calculate your location.",-1),c=[h];function u(e,t,i,n,r,h){const u=(0,a.up)("WeatherMainComponent");return(0,a.wg)(),(0,a.iD)("div",{id:"main",style:(0,o.j5)({backgroundImage:"url("+r.backgroundUrl+")"})},[null!=r.positionCoordinates.userLatitude&&null!=r.positionCoordinates.userLatitude?((0,a.wg)(),(0,a.j4)(u,{key:0,"country-name":r.countryName,"city-name":r.cityName,"weather-details":r.weatherDetails,opacity:r.opacity,onChangeWeatherUnitEvent:t[0]||(t[0]=e=>h.changeWeatherUnitHandler())},null,8,["country-name","city-name","weather-details","opacity"])):(0,a.kq)("",!0),null==r.positionCoordinates.userLatitude||null==r.positionCoordinates.userLatitude?((0,a.wg)(),(0,a.iD)("div",s,c)):(0,a.kq)("",!0)],4)}const l=e=>((0,a.dD)("data-v-fc20eee2"),e=e(),(0,a.Cn)(),e),g={class:"weather-header section"},w=l((()=>(0,a._)("h2",null,"CURRENT WEATHER",-1))),d={class:"weather-number"},A={class:"weather-details section"},p={class:"weather-footer section"};function m(e,t,i,n,r,s){return(0,a.wg)(),(0,a.iD)("div",{id:"weather-tile",style:(0,o.j5)({opacity:i.opacity})},[(0,a._)("div",g,[w,(0,a._)("p",d,(0,o.zw)(Math.floor(i.weatherDetails.weather))+" Â°"+(0,o.zw)(i.weatherDetails.units),1),(0,a._)("span",null,(0,o.zw)(i.weatherDetails.state),1),(0,a._)("p",null,(0,o.zw)(i.weatherDetails.city)+" | "+(0,o.zw)(i.weatherDetails.country),1)]),(0,a._)("div",A,[(0,a._)("h4",null,"HUMIDITY -> "+(0,o.zw)(i.weatherDetails.humidity)+" %",1),(0,a._)("p",null,"WIND -> "+(0,o.zw)(i.weatherDetails.wind)+" M/S",1),(0,a._)("p",null,"SUNRISE -> "+(0,o.zw)(i.weatherDetails.sunriseDateTime),1),(0,a._)("p",null,"SUNSET -> "+(0,o.zw)(i.weatherDetails.sunsetDateTime),1)]),(0,a._)("div",p,[(0,a._)("button",{onClick:t[0]||(t[0]=e=>this.changeWeatherUnit())}," Show me "+(0,o.zw)(this.showOppositeUnitToSelect()),1)])],4)}var D={data(){return{count:0,backgroundUrl:String,weatherUnit:String,weather:0}},props:{opacity:Number,weatherDetails:{state:String,weather:Number,units:String,humidity:Number,wind:Number,sunriseDateTime:Date,sunsetDateTime:Date,city:String,country:String}},methods:{showOppositeUnitToSelect:function(){return"F"===this.weatherDetails.units?"Celsius":"Fahrenheit"},changeWeatherUnit:function(){this.$emit("changeWeatherUnitEvent")}},mounted(){}},y=i(744);const S=(0,y.Z)(D,[["render",m],["__scopeId","data-v-fc20eee2"]]);var f=S,C={data(){return{apiKey:"14379316db7e5f1e4b19630f0bd124c9",backgroundUrl:String,opacity:Number,countryName:String,cityName:String,weatherDetails:{state:String,weather:Number,units:String,humidity:Number,wind:Number,sunriseDateTime:String,sunsetDateTime:String,country:String,city:String},positionCoordinates:{userLatitude:Number,userLongitude:Number}}},name:"WeatherMain",components:{WeatherMainComponent:f},methods:{callGeoLocationAndGetWeather:function(){navigator.geolocation.getCurrentPosition((e=>{if(this.positionCoordinates.userLatitude=e.coords.latitude,this.positionCoordinates.userLongitude=e.coords.longitude,this.isSavedStateEmpty()||this.geoLocationHasChanged())return this.saveState("positionCoordinates",this.positionCoordinates),void this.getWeather();this.weatherDetails=JSON.parse(localStorage.getItem("weatherDetails")),this.setPreferredWeatherUnit(),this.setBackgroundForWeather()}),(e=>{console.log(e.message),this.positionCoordinates.userLatitude=null,this.positionCoordinates.userLongitude=null}))},isSavedStateEmpty:function(){const e=localStorage.getItem("positionCoordinates"),t=localStorage.getItem("weatherDetails");return null==e||null==t},geoLocationHasChanged:function(){const e=JSON.parse(localStorage.getItem("positionCoordinates"));return e.userLatitude!==this.positionCoordinates.userLatitude||e.userLongitude!==this.positionCoordinates.userLongitude},setPreferredWeatherUnit:function(){const e=localStorage.getItem("preferredUnit");if(null!=e){const t=JSON.parse(e);"C"===t&&this.convertToCelcius()}},changeWeatherUnitHandler:function(){"F"===this.weatherDetails.units?this.convertToCelcius():this.convertToFahrenheit(),this.saveState("preferredUnit",this.weatherDetails.units)},convertToCelcius:function(){this.weatherDetails.units="C",this.weatherDetails.weather=(this.weatherDetails.weather-32)*(5/9)},convertToFahrenheit:function(){this.weatherDetails.units="F",this.weatherDetails.weather=1.8*this.weatherDetails.weather+32},saveState:function(e,t){localStorage.setItem(e,JSON.stringify(t))},getWeather:function(){const e=`https://api.openweathermap.org/data/2.5/weather?lat=${this.positionCoordinates.userLatitude}&lon=${this.positionCoordinates.userLongitude}&appid=${this.apiKey}&units=imperial`;fetch(e,{method:"GET"}).then((e=>e.json())).then((e=>{const t=new Intl.DisplayNames(["en"],{type:"region"}),i=new Date(1e3*e.sys.sunrise),n=new Date(1e3*e.sys.sunset);this.weatherDetails={state:e.weather[0].main,weather:e.main.temp,units:"F",wind:e.wind.speed,humidity:e.main.humidity,sunriseDateTime:`${i.getHours()}:${n.getMinutes()}`,sunsetDateTime:`${n.getHours()}:${n.getMinutes()}`,country:t.of(e.sys.country),city:e.name},this.setBackgroundForWeather(),this.saveState("weatherDetails",this.weatherDetails)}))},setBackgroundForWeather:function(){switch(this.weatherDetails.state){case"Clouds":this.backgroundUrl="https://i.gifer.com/origin/dd/ddedd3a2f4a3995d8cd1a8ab2033c9ce.gif",this.opacity=.7;break;case"Thunderstorm":case"Drizzle":case"Rain":case"Snow":case"Haze":this.backgroundUrl="https://thumbs.gfycat.com/AbleClosedIndigowingedparrot-size_restricted.gif",this.opacity=.7;break;case"Clear":(new Date).getHours()>6?(this.backgroundUrl="https://media3.giphy.com/media/LoNF8cgrrwYju5DxQL/giphy.gif?cid=790b7611b7dd48ff3cf72f1e93f65404fa27ae500b9a36c6&rid=giphy.gif&ct=g",this.opacity=.7):(this.backgroundUrl="https://www.coloradoboulevard.net/wp-content/uploads/2015/05/weather-sunny-day-gif.gif",this.opacity=.8);break;default:this.opacity=1,this.backgroundUrl="data:image/jpeg;base64,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"}}},mounted(){this.callGeoLocationAndGetWeather()}};const B=(0,y.Z)(C,[["render",u]]);var E=B,N={name:"App",components:{MainTemplateComponent:E}};const b=(0,y.Z)(N,[["render",r]]);var z=b;(0,n.ri)(z).mount("#app")}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}i.m=e,function(){var e=[];i.O=function(t,n,a,r){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],r=e[u][2];for(var s=!0,h=0;h<n.length;h++)(!1&r||o>=r)&&Object.keys(i.O).every((function(e){return i.O[e](n[h])}))?n.splice(h--,1):(s=!1,r<o&&(o=r));if(s){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,a,r]}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,o=n[0],s=n[1],h=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);if(h)var u=h(i)}for(t&&t(n);c<o.length;c++)r=o[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(u)},n=self["webpackChunkweather_jose_p"]=self["webpackChunkweather_jose_p"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(679)}));n=i.O(n)})();
//# sourceMappingURL=app.d1a332e4.js.map