(function(){"use strict";var t={428:function(t,e,i){var n=i(963),a=i(252);function r(t,e,i,n,r,o){const s=(0,a.up)("MainTemplateComponent");return(0,a.wg)(),(0,a.j4)(s)}var o=i(577);const s={key:1},u=(0,a._)("h3",null,"We were not able to calculate your location.",-1),h=[u];function c(t,e,i,n,r,u){const c=(0,a.up)("WeatherMainComponent");return(0,a.wg)(),(0,a.iD)("div",{id:"main",style:(0,o.j5)({backgroundImage:"url("+r.backgroundUrl+")"})},[null!=r.positionCoordinates.userLatitude&&null!=r.positionCoordinates.userLatitude?((0,a.wg)(),(0,a.j4)(c,{key:0,"country-name":r.countryName,"city-name":r.cityName,"weather-details":r.weatherDetails,opacity:r.opacity,onChangeWeatherUnitEvent:e[0]||(e[0]=t=>u.changeWeatherUnitHandler())},null,8,["country-name","city-name","weather-details","opacity"])):(0,a.kq)("",!0),null==r.positionCoordinates.userLatitude||null==r.positionCoordinates.userLatitude?((0,a.wg)(),(0,a.iD)("div",s,h)):(0,a.kq)("",!0)],4)}const l=t=>((0,a.dD)("data-v-2f082bb3"),t=t(),(0,a.Cn)(),t),d={class:"weather-header section"},p=l((()=>(0,a._)("h2",null,"CURRENT WEATHER",-1))),g={class:"weather-number"},w={class:"weather-details section"},f={class:"weather-footer section"};function m(t,e,i,n,r,s){return(0,a.wg)(),(0,a.iD)("div",{id:"weather-tile",style:(0,o.j5)({opacity:i.opacity})},[(0,a._)("div",d,[p,(0,a._)("p",g,(0,o.zw)(Math.floor(i.weatherDetails.weather))+" Â°"+(0,o.zw)(i.weatherDetails.units),1),(0,a._)("span",null,(0,o.zw)(i.weatherDetails.state),1),(0,a._)("p",null,(0,o.zw)(i.weatherDetails.city)+" | "+(0,o.zw)(i.weatherDetails.country),1)]),(0,a._)("div",w,[(0,a._)("h4",null,"HUMIDITY -> "+(0,o.zw)(i.weatherDetails.humidity)+" %",1),(0,a._)("p",null,"WIND -> "+(0,o.zw)(i.weatherDetails.wind)+" M/S",1),(0,a._)("p",null,"SUNRISE -> "+(0,o.zw)(i.weatherDetails.sunriseDateTime),1),(0,a._)("p",null,"SUNSET -> "+(0,o.zw)(i.weatherDetails.sunsetDateTime),1)]),(0,a._)("div",f,[(0,a._)("button",{onClick:e[0]||(e[0]=t=>this.changeWeatherUnit())}," Show me "+(0,o.zw)(this.showOppositeUnitToSelect()),1)])],4)}var y={data(){return{count:0,backgroundUrl:String,weatherUnit:String,weather:0}},props:{opacity:Number,weatherDetails:{state:String,weather:Number,units:String,humidity:Number,wind:Number,sunriseDateTime:Date,sunsetDateTime:Date,city:String,country:String}},methods:{showOppositeUnitToSelect:function(){return"F"===this.weatherDetails.units?"Celsius":"Fahrenheit"},changeWeatherUnit:function(){this.$emit("changeWeatherUnitEvent")}}},b=i(744);const D=(0,b.Z)(y,[["render",m],["__scopeId","data-v-2f082bb3"]]);var v=D,S={data(){return{apiKey:"14379316db7e5f1e4b19630f0bd124c9",backgroundUrl:String,opacity:Number,countryName:String,cityName:String,weatherDetails:{state:String,weather:Number,units:String,humidity:Number,wind:Number,sunriseDateTime:String,sunsetDateTime:String,country:String,city:String},positionCoordinates:{userLatitude:Number,userLongitude:Number}}},name:"WeatherMain",components:{WeatherMainComponent:v},methods:{callGeoLocationAndGetWeather:function(){this.positionCoordinates.userLatitude=null,this.positionCoordinates.userLongitude=null,navigator.geolocation.getCurrentPosition((t=>{if(this.positionCoordinates.userLatitude=t.coords.latitude,this.positionCoordinates.userLongitude=t.coords.longitude,this.isSavedStateEmpty()||this.geoLocationHasChanged())return this.saveState("positionCoordinates",this.positionCoordinates),void this.getWeather();this.weatherDetails=JSON.parse(localStorage.getItem("weatherDetails")),this.setPreferredWeatherUnit(),this.setBackgroundForWeather()}),(t=>{console.log(t.message)}))},isSavedStateEmpty:function(){const t=localStorage.getItem("positionCoordinates"),e=localStorage.getItem("weatherDetails");return null==t||null==e},geoLocationHasChanged:function(){const t=JSON.parse(localStorage.getItem("positionCoordinates"));return t.userLatitude!==this.positionCoordinates.userLatitude||t.userLongitude!==this.positionCoordinates.userLongitude},setPreferredWeatherUnit:function(){const t=localStorage.getItem("preferredUnit");if(null!=t){const e=JSON.parse(t);"C"===e&&this.convertToCelcius()}},changeWeatherUnitHandler:function(){"F"===this.weatherDetails.units?this.convertToCelcius():this.convertToFahrenheit(),this.saveState("preferredUnit",this.weatherDetails.units)},convertToCelcius:function(){this.weatherDetails.units="C",this.weatherDetails.weather=(this.weatherDetails.weather-32)*(5/9)},convertToFahrenheit:function(){this.weatherDetails.units="F",this.weatherDetails.weather=1.8*this.weatherDetails.weather+32},saveState:function(t,e){localStorage.setItem(t,JSON.stringify(e))},getWeather:function(){const t=`https://api.openweathermap.org/data/2.5/weather?lat=${this.positionCoordinates.userLatitude}&lon=${this.positionCoordinates.userLongitude}&appid=${this.apiKey}&units=imperial`;fetch(t,{method:"GET"}).then((t=>t.json())).then((t=>{const e=new Intl.DisplayNames(["en"],{type:"region"}),i=new Date(1e3*t.sys.sunrise),n=new Date(1e3*t.sys.sunset);this.weatherDetails={state:t.weather[0].main,weather:t.main.temp,units:"F",wind:t.wind.speed,humidity:t.main.humidity,sunriseDateTime:`${i.getHours()}:${n.getMinutes()}`,sunsetDateTime:`${n.getHours()}:${n.getMinutes()}`,country:e.of(t.sys.country),city:t.name},this.setBackgroundForWeather(),this.saveState("weatherDetails",this.weatherDetails)}))},setBackgroundForWeather:function(){const t=(new Date).getHours();switch(this.weatherDetails.state){case"Clouds":this.backgroundUrl="https://i.gifer.com/origin/dd/ddedd3a2f4a3995d8cd1a8ab2033c9ce.gif",this.opacity=.7;break;case"Thunderstorm":case"Drizzle":case"Rain":case"Snow":case"Haze":this.backgroundUrl="https://thumbs.gfycat.com/AbleClosedIndigowingedparrot-size_restricted.gif",this.opacity=.7;break;case"Clear":const e=t>6&&t<19;e?(this.backgroundUrl="https://www.coloradoboulevard.net/wp-content/uploads/2015/05/weather-sunny-day-gif.gif",this.opacity=.8):(this.backgroundUrl="https://media3.giphy.com/media/LoNF8cgrrwYju5DxQL/giphy.gif?cid=790b7611b7dd48ff3cf72f1e93f65404fa27ae500b9a36c6&rid=giphy.gif&ct=g",this.opacity=.7);break;default:this.opacity=1,this.backgroundUrl="https://www.solidbackgrounds.com/images/3840x2160/3840x2160-light-sky-blue-solid-color-background.jpg"}}},mounted(){this.callGeoLocationAndGetWeather()}};const C=(0,b.Z)(S,[["render",c]]);var k=C,T={name:"App",components:{MainTemplateComponent:k}};const U=(0,b.Z)(T,[["render",r]]);var N=U;(0,n.ri)(N).mount("#app")}},e={};function i(n){var a=e[n];if(void 0!==a)return a.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.m=t,function(){var t=[];i.O=function(e,n,a,r){if(!n){var o=1/0;for(c=0;c<t.length;c++){n=t[c][0],a=t[c][1],r=t[c][2];for(var s=!0,u=0;u<n.length;u++)(!1&r||o>=r)&&Object.keys(i.O).every((function(t){return i.O[t](n[u])}))?n.splice(u--,1):(s=!1,r<o&&(o=r));if(s){t.splice(c--,1);var h=a();void 0!==h&&(e=h)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[n,a,r]}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,r,o=n[0],s=n[1],u=n[2],h=0;if(o.some((function(e){return 0!==t[e]}))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);if(u)var c=u(i)}for(e&&e(n);h<o.length;h++)r=o[h],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(c)},n=self["webpackChunkweather_jose_p"]=self["webpackChunkweather_jose_p"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(428)}));n=i.O(n)})();
//# sourceMappingURL=app.0d9e55d4.js.map